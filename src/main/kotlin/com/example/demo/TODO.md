[ ] Refactor the recursive code fraction
[ ] Write tests